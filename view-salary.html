<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Salary Slip | Shrish Travels</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/salary-styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

</head>

<body>

    <div class="salary-slip-print">
        <header class="print-header">

            <div class="header-left">
                <img src="assets/images/logo.webp" alt="Shrish Travels Logo" class="logo-print">
                <div class="company-details" style="text-align: center;">
                    <h1>SHRISH TRAVELS</h1>
                    <p>
                        Plot No.5, Door No.G1, 1st Main Road, Gangai Nagar,<br>
                        Velachery, Chennai - 600042
                    </p>
                    <p><a href="https://www.shrishgroup.com" target="_blank">www.shrishgroup.com</a></p>
                </div>
            </div>

            <div class="header-right">
                <p class="generated-date">Generated On: <span id="print-generated-date"></span></p>
                <p><a href="mailto:info@shrishgroup.com">info@shrishgroup.com</a></p>
                <p>
                    <a href="tel:+919176500207">+91 9176500207</a><br>
                    <a href="tel:+918883451668">+91 8883451668</a>
                </p>
            </div>

        </header>

        <div class="slip-title">
            <h2>Salary Slip for the Month of - <span id="print-pay-period"></span></h2>
            <!-- <p class="generated-date">Generated On: <span id="print-generated-date"></span></p> -->
        </div>

        <table class="employee-info-table">
            <tr>
                <td><strong>Employee Name:</strong> <span id="print-employee-name"></span></td>
                <td><strong>Employee ID:</strong> <span id="print-employee-id"></span></td>
            </tr>
            <tr>
                <td><strong>Designation:</strong> <span id="print-designation"></span></td>
                <td><strong>Payable Days:</strong> <span id="print-payable-days"></span></td>
            </tr>
        </table>

        <table class="main-salary-table">
            <thead>
                <tr>
                    <th>Earnings</th>
                    <th class="amount">Amount (₹)</th>
                    <th>Deductions</th>
                    <th class="amount">Amount (₹)</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Monthly Salary</td>
                    <td id="print-monthly-salary" class="amount"></td>
                    <td>Loss of Pay (LOP)</td>
                    <td id="print-lop-deduction" class="amount"></td>
                </tr>
                <tr>
                    <td>Outstation Allowance</td>
                    <td id="print-outstation-total" class="amount"></td>
                    <td>Advance</td>
                    <td id="print-advance-deduction" class="amount"></td>
                </tr>
                <tr>
                    <td>Extra Duty Allowance</td>
                    <td id="print-extraduty-total" class="amount"></td>
                    <td></td>
                    <td class="amount"></td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <th>Total Earnings (A)</th>
                    <th id="print-total-earnings" class="amount"></th>
                    <th>Total Deductions (B)</th>
                    <th id="print-total-deductions" class="amount"></th>
                </tr>
            </tfoot>
        </table>

        <div class="net-payable-section">
            <div class="net-payable-amount">
                <span>Net Payable Salary (A - B)</span>
                <strong id="print-net-payable"></strong>
            </div>
            <div class="net-payable-words" id="print-net-payable-words"></div>
        </div>

        <div id="employee-signature-section">

            <div id="signature-pending-view">
                <hr style="margin: 20px 0;">
                <h3 style="text-align:center;">Please Review and Sign to Finalize</h3>
                <div class="signature-box" id="employee-signature-box">
                    <span class="placeholder" id="employee-sig-placeholder">Tap to Sign</span>
                    <img id="employee-signature-image" class="signature-image" alt="Employee Signature">
                </div>
                <div class="form-group">
                    <label for="employee-notes">Add a Note (Optional)</label>
                    <textarea id="employee-notes" rows="3"
                        placeholder="If you have any questions, please add a note here..."></textarea>
                </div>
                <div style="text-align:center; margin-top: 20px;">
                    <button id="finalize-slip-btn" class="btn-primary"><i class="fas fa-check-circle"></i> Confirm &
                        Accept Salary Slip</button>
                </div>
            </div>

            <div id="signature-complete-view" style="display:none;">
                <hr style="margin: 20px 0;">
                <h3 style="text-align:center; color: #16a34a;"><i class="fas fa-check-circle"></i> This Salary Slip has
                    been Finalized.</h3>
            </div>

        </div>


        <footer class="print-footer">
            <div class="print-signature-box">
                <img id="print-auth-signature-image" class="signature-display" alt="Auth Signature">
                <p>Authorised Signatory</p>
            </div>
            <div class="print-signature-box">
                <img id="print-employee-signature-image" class="signature-display" alt="Employee Signature">
                <p>Employee's Signature</p>
            </div>
        </footer>
    </div>

    <div id="signature-modal">
        <div id="signature-modal-content">
            <p>Please sign in the box below</p>
            <canvas id="signature-canvas"></canvas>
            <div class="modal-buttons">
                <button class="btn-clear" onclick="clearSignature()">Clear</button>
                <button class="btn-cancel" onclick="closeSignaturePad()">Cancel</button>
                <button class="btn-save" onclick="saveSignature()">Save Signature</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/signature_pad@4.1.7/dist/signature_pad.umd.min.js"></script>
    <script src="assets/js/common.js"></script>
    <script src="assets/js/view-salary.js"></script>
</body>

</html>