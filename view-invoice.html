<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invoice - Shrish Travels</title>
    <link rel="stylesheet" href="/assets/css/common.css">
    <link rel="stylesheet" href="/assets/css/invoice.css">
    <script src="https://unpkg.com/qr-code-styling@1.5.0/lib/qr-code-styling.js"></script>
</head>

<body>
    <div class="invoice-container">
        <header class="brand-header">
            <div class="brand-logo">
                <img src="/assets/images/logo.webp" alt="Shrish Group Logo">
            </div>
            <div class="brand-title">
                <h1>SHRISH Travels</h1>
                <p>Your Journey, Our Responsibility</p>
            </div>
            <div class="brand-contact">
                <p>+91 88834 51668</p>
                <p>+91 91765 00207</p>
                <p>info@shrishgroup.com</p>
                <p>www.shrishgroup.com</p>
            </div>
        </header>

        <section class="invoice-meta">
            <table class="invoice-meta-table">
                <tr>
                    <td class="bill-to-cell">
                        <h3>Bill To:</h3>
                        <p id="guest-name">Loading...</p>
                        <p id="guest-mobile">Loading...</p>
                    </td>

                    <td class="details-cell">
                        <div class="details-list">
                            <p><span id="invoice-id">Loading...</span></p>
                            <p>Date: <span id="invoice-date">Loading...</span></p>
                            <p>Updated: <span id="last-updated">Loading...</span></p>
                            <p>Due: <strong>Due Upon Receipt</strong></p>
                        </div>
                    </td>
                </tr>
            </table>
        </section>

        <section class="invoice-section">
            <h3>Trip Summary</h3>
            <table class="summary-table">
                <tr>
                    <td><strong>Vehicle:</strong> <span id="trip-vehicle">Loading...</span></td>
                    <td><strong>Total KMs:</strong> <span id="trip-total-kms">Loading...</span></td>
                </tr>
                <tr>
                    <td><strong>Trip Dates:</strong> <span id="trip-dates">Loading...</span></td>
                    <td><strong>Total Duration:</strong> <span id="trip-total-duration">Loading...</span></td>
                </tr>
            </table>
        </section>

        <section class="invoice-section">
            <h3>Itemized Charges</h3>
            <table class="charges-table">
                <thead>
                    <tr>
                        <th>Description</th>
                        <th>Details</th>
                        <th>Rate (₹)</th>
                        <th>Amount (₹)</th>
                    </tr>
                </thead>
                <tbody id="charges-tbody">
                    <tr>
                        <td colspan="4" style="text-align: center;">Loading charges...</td>
                    </tr>
                </tbody>
                <tfoot>
                    <tr class="total-row">
                        <td colspan="3" class="total-label">Grand Total</td>
                        <td class="total-amount" id="grand-total">₹ --.--</td>
                    </tr>
                </tfoot>
            </table>
            <p class="amount-in-words" id="amount-in-words">Loading...</p>
        </section>

        <section class="invoice-footer">
            <div class="payment-section">
                <h3>Pay Your Bill</h3>
                <p>Choose your preferred method to pay <strong><span id="total-due-amount">₹ --.--</span></strong></p>
                <div class="payment-options">
                    <div class="pay-option">
                        <h4>Scan to Pay</h4>
                        <div id="qr-code-canvas" class="qr-code"></div>
                        <p>Scan with any UPI app</p>
                    </div>
                    <div class="pay-option">
                        <h4>2. Pay with UPI App</h4>
                        <a href="#" class="btn btn-success" id="payment-link">
                            Pay ₹<span id="total-due-amount-button">--.--</span> with UPI
                        </a>
                        <p>(For mobile users)</p>
                    </div>
                    <div class="pay-option">
                        <h4>3. Copy UPI ID</h4>
                        <input type="text" value="payments@shrish" id="upi-id-input" readonly>
                        <button class="btn" id="copy-upi-btn">Copy UPI ID</button>
                    </div>
                </div>
            </div>

            <div class="terms-section">
                <h3>Terms & Conditions</h3>
                <ol>
                    <li>All charges (Kilometers & Time) are calculated on a "shed-to-shed" basis.</li>
                    <li>Billing is based on 12-hour slabs. Any usage into the next slab will be billed as a full slab.
                    </li>
                    <li>Toll, parking, and state permit charges are as per actuals.</li>
                    <li>Full payment is due upon receipt of this invoice.</li>
                    <li>Thank you for your business!</li>
                </ol>
            </div>

            <div class="branded-footer-content">
                <div class="thank-you-note">
                    <p>Thank You for Choosing - <strong>SHRISH Travels!</strong></p>
                    <p><strong>Your Journey, Our Responsibility</strong></p>
                </div>
                
                <div class="footer-address">
                    <p>SHRISH GROUP | Thiruvarur, Tamil Nadu, 610001</p>
                </div>

                <div class="footer-contact-links">
                    <a href="tel:+918883451668">+91 88834 51668</a>
                    <span>&bull;</span> <a href="mailto:info@shrishgroup.com">info@shrishgroup.com</a>
                    <span>&bull;</span>
                    <a href="https://www.shrishgroup.com" target="_blank">www.shrishgroup.com</a>
                </div>
            </div>
        </section> <footer class="invoice-print-footer">
            <p>This is a system-generated invoice. | Shrish Travels | www.shrishgroup.com</p>
        </footer>
    </div>

    <div class="invoice-actions no-print">
        <button class="btn btn-primary" onclick="window.print()">
            <i class="fas fa-print"></i> Print / Save as PDF
        </button>
        <button class="btn" onclick="window.close()">
            <i class="fas fa-times"></i> Close
        </button>
    </div>

    <script src="/assets/js/toWords.js"></script>
    <script src="/assets/js/view-invoice.js"></script>
</body>
</html>