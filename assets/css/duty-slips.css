/**
 * Shrish Admin Panel - Duty Slips Dashboard Styles (V3.0)
 * This file styles the stat cards, tabs, responsive table, quick actions,
 * and quick view modal for the main dashboard.
 */

/* --- 1. Stat Card Dashboard --- */
.stat-cards-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.stat-card {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1.5rem;
    background-color: var(--color-bg-card);
    border-radius: var(--border-radius-md);
    border: 1px solid var(--color-border);
    cursor: pointer;
    transition: all var(--transition-speed);
    border-left: 5px solid var(--color-border);
}

.stat-card:hover, .stat-card.active {
    transform: translateY(-5px);
    box-shadow: var(--shadow-md);
    border-left-color: var(--color-primary);
}

.stat-card i {
    font-size: 2rem;
    color: var(--color-primary);
    background-color: #e0e7ff;
    padding: 1rem;
    border-radius: 50%;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.stat-info h3 {
    margin: 0;
    font-size: 1.75rem;
}

.stat-info p {
    margin: 0;
    color: var(--color-text-muted);
}

/* --- 2. Tabs & Filters --- */
.tabs-and-filters {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
    margin-bottom: 1rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid var(--color-border);
}

.tabs { display: flex; gap: 0.5rem; }

.tab-btn {
    padding: 0.6rem 1rem;
    border: none;
    background: none;
    font-size: 1rem;
    font-weight: 500;
    color: var(--color-text-muted);
    cursor: pointer;
    border-radius: var(--border-radius-md);
    transition: all var(--transition-speed);
}

.tab-btn:hover { background-color: #f3f4f6; }

.tab-btn.active {
    background-color: var(--color-primary);
    color: white;
}

.filter-controls .search-group { position: relative; }
.filter-controls .search-group i { position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: var(--color-text-muted); }
.filter-controls .search-group input { padding: 10px 12px 10px 35px; border-radius: var(--border-radius-md); border: 1px solid var(--color-border); width: 250px; }

/* --- 3. Enhanced Desktop Table --- */
.table-container { overflow-x: auto; }

table { width: 100%; border-collapse: collapse; }
th, td { padding: 1rem; text-align: left; border-bottom: 1px solid var(--color-border); vertical-align: middle; }
thead { background-color: #f9fafb; }
th { font-weight: 600; color: var(--color-text-muted); text-transform: uppercase; font-size: 0.75rem; letter-spacing: 0.05em; }
tbody tr:last-child td { border-bottom: none; }
tbody tr { transition: background-color var(--transition-speed); }
tbody tr:hover { background-color: #f8f9fa; }

.cell-primary { font-weight: 500; color: var(--color-text-dark); }
.cell-secondary { font-size: 0.85rem; color: var(--color-text-muted); }

.status-badge { padding: 0.3rem 0.8rem; border-radius: 999px; font-size: 0.8rem; font-weight: 600; text-transform: uppercase; display: inline-block; }
.status-badge.status-new { background-color: #dbeafe; color: #1e40af; }
.status-badge.status-closed-by-driver { background-color: #fef08a; color: #854d0e; }
.status-badge.status-closed-by-client { background-color: #dcfce7; color: #166534; }
.status-badge.status-updated-by-manager { background-color: #e0e7ff; color: #3730a3; }

/* Quick Actions Menu */
.actions-cell { text-align: right !important; display: flex; gap: 0.5rem; justify-content: flex-end; align-items: center; }
.action-btn { background: none; border: 1px solid transparent; width: 36px; height: 36px; border-radius: 50%; cursor: pointer; color: var(--color-text-muted); transition: all var(--transition-speed); }
.action-btn:hover { background-color: #e5e7eb; color: var(--color-text-dark); }
.quick-actions-menu { position: relative; }
.dropdown-menu { position: absolute; top: 110%; right: 0; background: white; border-radius: var(--border-radius-md); border: 1px solid var(--color-border); box-shadow: var(--shadow-md); list-style: none; padding: 0.5rem 0; width: 180px; z-index: 10; opacity: 0; visibility: hidden; transform: translateY(-10px); transition: all var(--transition-speed); }
.quick-actions-menu.active .dropdown-menu { opacity: 1; visibility: visible; transform: translateY(0); }
.dropdown-item { display: flex; align-items: center; gap: 0.75rem; padding: 0.6rem 1rem; color: var(--color-text-dark); background: none; border: none; width: 100%; text-align: left; cursor: pointer; font-size: 0.9rem; }
.dropdown-item:hover { background-color: #f3f4f6; }
.dropdown-item i { width: 16px; text-align: center; color: var(--color-text-muted); }
.dropdown-divider { height: 1px; background-color: var(--color-border); margin: 0.5rem 0; }

/* Signature Thumbnail from Manager Hub */
.signature-thumbnail { width: 36px; height: 36px; /* ... rest of styles are the same as manager-hub.css ... */ }

/* --- 4. Quick View Modal --- */
#quick-view-modal { position: fixed; /* ... rest of modal styles are same as image-modal in manager-hub.css ... */ }
.modal-header { display: flex; justify-content: space-between; align-items: center; padding-bottom: 1rem; margin-bottom: 1rem; border-bottom: 1px solid var(--color-border); }
.modal-header h3 { margin: 0; }
.modal-close-btn { background: none; border: none; font-size: 1.5rem; cursor: pointer; color: var(--color-text-muted); }
.modal-body p { margin: 0.5rem 0; }
.modal-body hr { border: 0; border-top: 1px solid var(--color-border); margin: 1rem 0; }
.modal-footer { margin-top: 1.5rem; text-align: right; }

/* --- 5. Animations --- */
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
.results-container.fading-out > * { opacity: 0; transition: opacity 0.3s ease-out; }
tr.is-loading { opacity: 0; transform: translateY(20px); }
tr { transition: opacity 0.5s ease-out, transform 0.5s ease-out; transition-delay: calc(var(--delay-index, 0) * 50ms); }
.loader { /* Styles from manager-hub.css */ }
/* ... (All the styles from section 1-5 are the same as before) ... */

/* --- 6. Mobile Responsiveness --- */
@media (max-width: 900px) {
    /* Hide the table header on mobile */
    .table-container thead {
        display: none;
    }
    /* Make table elements behave like blocks */
    .table-container table, .table-container tbody, .table-container tr, .table-container td {
        display: block;
        width: 100%;
    }
    .table-container tr {
        margin-bottom: 1rem;
        border: 1px solid var(--color-border);
        border-radius: var(--border-radius-md);
        overflow: hidden;
        border-left: 5px solid var(--color-border); /* Placeholder for status color */
    }
    .table-container td {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.75rem 1rem;
        border-bottom: 1px solid #f3f4f6;
    }
    .table-container td:last-child {
        border-bottom: none;
    }
    /* Add labels before the content */
    .table-container td::before {
        content: attr(data-label);
        font-weight: 600;
        color: var(--color-text-muted);
    }
    .actions-cell {
        justify-content: center; /* Center the action buttons on mobile */
        background-color: #f9fafb;
        padding: 0.5rem;
    }
    .actions-cell::before {
        display: none; /* No label for the actions cell */
    }
}