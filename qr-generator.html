<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code Generator | Shrish Group Admin</title>
    
    <link rel="stylesheet" href="assets/css/common.css">
    <link rel="stylesheet" href="assets/css/admin.css">
    
    <link rel="stylesheet" href="assets/css/qr-generator.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <script src="assets/js/auth.js"></script>

    <div class="admin-layout">
        <div id="admin-sidebar"></div>

        <main class="admin-main-content">
            <div id="admin-header"></div>

            <div class="page-content">
                <div class="app-container">
                    <div class="controls-panel">
                        <div class="stepper">
                            <div class="step active" data-step="1">
                                <div class="step__icon">1</div>
                                <div class="step__label">Content</div>
                            </div>
                            <div class="step" data-step="2">
                                <div class="step__icon">2</div>
                                <div class="step__label">Design</div>
                            </div>
                            <div class="step" data-step="3">
                                <div class="step__icon">3</div>
                                <div class="step__label">Logo</div>
                            </div>
                            <div class="step" data-step="4">
                                <div class="step__icon"><i class="fas fa-check"></i></div>
                                <div class="step__label">Download</div>
                            </div>
                        </div>

                        <div class="step-content active" data-step-content="1">
                            <h2 class="step-title">Enter Your Content</h2>
                            <div class="control-group">
                                <label class="control-label">QR Code Type</label>
                                <div class="button-group">
                                    <button class="button-group__btn active" data-qr-type="upi"><i class="fas fa-rupee-sign"></i> UPI Payment</button>
                                    <button class="button-group__btn" data-qr-type="link"><i class="fas fa-link"></i> Web Link</button>
                                </div>
                            </div>

                            <div id="upi-fields">
                                <div class="control-group">
                                    <label for="upiId" class="control-label">UPI ID <span class="required">*</span></label>
                                    <input type="text" id="upiId" class="form-input" placeholder="yourname@bank">
                                    <p id="upiIdError" class="error-message"></p>
                                </div>
                                <div class="control-group">
                                    <label for="payeeName" class="control-label">Payee Name <span class="required">*</span></label>
                                    <input type="text" id="payeeName" class="form-input" placeholder="e.g., Shrish Group">
                                </div>
                                <div class="control-group">
                                    <label for="amount" class="control-label">Amount (â‚¹) <span class="optional">(Optional)</span></label>
                                    <input type="number" id="amount" class="form-input" placeholder="e.g., 100" min="0">
                                </div>
                            </div>

                            <div id="link-fields" style="display: none;">
                                <div class="control-group">
                                    <label for="webLink" class="control-label">Website URL <span class="required">*</span></label>
                                    <input type="url" id="webLink" class="form-input" placeholder="https://example.com">
                                    <p id="webLinkError" class="error-message"></p>
                                </div>
                            </div>
                        </div>

                        <div class="step-content" data-step-content="2">
                            <h2 class="step-title">Customize Design</h2>
                            <div class="control-group">
                                <label class="control-label">Colors</label>
                                <div class="color-picker-group">
                                    <div class="color-picker-wrapper">
                                        <input type="color" id="qrColor" value="#0d1117">
                                        <span>Foreground</span>
                                    </div>
                                    <div class="color-picker-wrapper">
                                        <input type="color" id="bgColor" value="#ffffff">
                                        <span>Background</span>
                                    </div>
                                </div>
                            </div>
                            <div class="control-group">
                                <label class="control-label">Foreground Gradient <span class="optional">(Optional)</span></label>
                                <div class="color-picker-group">
                                    <div class="color-picker-wrapper">
                                        <input type="color" id="gradientColor1" value="#0d1117">
                                        <span>Start</span>
                                    </div>
                                    <div class="color-picker-wrapper">
                                        <input type="color" id="gradientColor2" value="#0052cc">
                                        <span>End</span>
                                    </div>
                                    <select id="gradientType" class="form-input-select" style="flex-grow: 1;">
                                        <option value="none">No Gradient</option>
                                        <option value="linear">Linear</option>
                                        <option value="radial">Radial</option> --> default
                                    </select>
                                </div>
                            </div>
                            <div class="control-group">
                                <label class="control-label">Dot Style</label>
                                <select id="dotsType" class="form-input">
                                    <option value="rounded" selected>Rounded</option>
                                    <option value="dots">Dots</option>
                                    <option value="classy">Classy</option>
                                    <option value="classy-rounded">Classy Rounded</option> --> default
                                    <option value="square">Square</option>
                                    <option value="extra-rounded">Extra Rounded</option>
                                </select>
                            </div>
                            <div class="control-group" style="display: flex; gap: 20px;">
                                <div style="flex: 1;">
                                    <label for="cornerSquareType" class="control-label">Corner Squares</label>
                                    <select id="cornerSquareType" class="form-input">
                                        <option value="extra-rounded" selected>Extra Rounded</option>
                                        <option value="dot">Dot</option>
                                        <option value="square">Square</option>
                                    </select>
                                </div>
                                <div style="flex: 1;">
                                    <label for="cornerDotType" class="control-label">Corner Dots</label>
                                    <select id="cornerDotType" class="form-input">
                                        <option value="dot" selected>Dot</option>
                                        <option value="square">Square</option>
                                    </select>
                                </div>
                            </div>
                            <div class="control-group">
                                <label for="errorCorrectionLevel" class="control-label">Error Correction</label>
                                <select id="errorCorrectionLevel" class="form-input">
                                    <option value="L">Low</option>
                                    <option value="M">Medium</option>
                                    <option value="Q">Quartile</option>
                                    <option value="H" selected>High (Recommended)</option>
                                </select>
                            </div>
                        </div>

                        <div class="step-content" data-step-content="3">
                            <h2 class="step-title">Add Your Logo</h2>
                            <div class="control-group">
                                <label for="logoInput" class="control-label">Upload Logo <span class="optional">(Optional)</span></label> --> default (https://admin.shrishgroup.com/assets/images/logo.webp)
                                <input type="file" id="logoInput" class="form-input-file" accept="image/*">
                                <button id="removeLogoBtn" class="btn btn--secondary btn--small" style="display: none;">Remove Logo</button>
                            </div>
                            <div class="control-group">
                                <label for="logoSize" class="control-label">Logo Size</label>
                                <input type="range" id="logoSize" class="slider" min="0.1" max="0.4" step="0.05" value="0.25">
                            </div>
                        </div>

                        <div class="step-content" data-step-content="4">
                            <h2 class="step-title">Download Your QR Code</h2>
                            <p class="step-description">Your QR code is ready! Download it in your preferred format.</p>
                            <div class="control-group">
                                <label for="filename" class="control-label">Filename</label>
                                <input type="text" id="filename" class="form-input" value="shrish-qr-code">
                            </div>
                            <div class="download-buttons">
                                <button id="downloadPngBtn" class="btn btn--primary"><i class="fas fa-download"></i> Download PNG</button>
                                <button id="downloadSvgBtn" class="btn btn--secondary"><i class="fas fa-file-code"></i> Download SVG</button>
                            </div>
                            <div id="download-error" style="margin-top: 15px; padding: 10px; background-color: #fff5f5; color: #c53030; border-radius: 5px; display: none; align-items: center; gap: 10px;">
                                <i class="fas fa-exclamation-triangle"></i>
                                <p>Please fill in all required fields with valid information before downloading.</p>
                            </div>
                        </div>

                        <div class="step-navigation">
                            <button id="prevStepBtn" class="btn btn--secondary" style="display: none;">Previous</button>
                            <button id="nextStepBtn" class="btn btn--primary">Next Step <i class="fas fa-arrow-right"></i></button>
                        </div>
                    </div>

                    <div class="preview-panel">
                        <div class="preview-card">
                            <div id="qr-code-container" class="qr-code-wrapper"></div>
                            <div id="live-link-container" class="live-link-preview" style="display: none;">
                                <span id="live-link-text" class="live-link-preview__text"></span>
                                <button id="copyLinkBtn" class="live-link-preview__copy-btn">
                                    <i class="far fa-copy"></i>
                                    <span>COPY</span>
                                </button>
                            </div>
                            <div class="preview-card__footer">
                                <p id="preview-text">Scan Me</p>
                            </div>
                        </div>
                        <button id="resetBtn" class="btn btn--tertiary mt-1"><i class="fas fa-redo"></i> Reset All Options</button>
                    </div>
                </div>
            </div>
            
            <div id="admin-footer"></div>
        </main>
    </div>

    <script src="https://unpkg.com/qr-code-styling@1.5.0/lib/qr-code-styling.js"></script>

    <script src="assets/js/qr-generator.js"></script>
    
    <script src="assets/js/common.js"></script>
</body>

</html>